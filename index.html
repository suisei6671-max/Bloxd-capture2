<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>bloxd.io textureInfo lookup</title>
<style>
  body { font-family: sans-serif; padding: 20px; }
  input { width: 260px; }
  pre { background: #f5f5f5; padding: 10px; }
</style>
</head>
<body>

<h2>bloxd.io ブロック名 → textureInfo</h2>

<input id="name" value="Grass Block">
<button onclick="search()">検索</button>

<pre id="out">読み込み中…</pre>

<script>
const CHUNK_URL =
  "https://bloxd.io/static/js/gp1uoj.3.bc216db2.chunk.js";

let chunkText = null;

/* chunk を文字列として取得 */
fetch(CHUNK_URL)
  .then(r => r.text())
  .then(t => {
    chunkText = t;
    out.textContent = "✅ データ読み込み完了";
  })
  .catch(e => {
    out.textContent = "❌ 読み込み失敗: " + e;
  });

/* 検索 */
function search() {
  if (!chunkText) {
    out.textContent = "❌ まだ読み込まれていません";
    return;
  }

  const name = document.getElementById("name").value;

  const re = new RegExp(
    `"${name}"\\s*:\\s*\\{[^}]*?textureInfo\\s*:\\s*"([^"]+)"`,
    "s"
  );

  const m = chunkText.match(re);
  if (!m) {
    out.textContent = `❌ ${name} が見つかりません`;
    return;
  }

  out.textContent =
    `block: ${name}\ntextureInfo: ${m[1]}`;
}
</script>

</body>
</html>
